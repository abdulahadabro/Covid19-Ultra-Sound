{"version":3,"sources":["webpack:///./resources/js/components/Footer/Footer.js","webpack:///./resources/js/pages/Layout.js","webpack:///./resources/js/components/Content/TextSimple.js","webpack:///./resources/js/components/Content/Text.js","webpack:///./node_modules/react-use/esm/useIntersection.js","webpack:///./resources/js/utils/animation.js","webpack:///./resources/js/pages/Screen/ScreenResult.js","webpack:///./resources/js/pages/Screen/ScreenResults.js"],"names":["Footer","className","configuration","appTitle","href","title","target","Date","getFullYear","Train","props","children","TextSimple","subtitle","text","Text","sectionRef","useRef","useFadeInOnScroll","ref","options","_a","intersectionObserverEntry","setIntersectionObserverEntry","current","IntersectionObserver","observer_1","entries","observe","disconnect","threshold","root","rootMargin","el","onScreen","useIntersection","intersectionRatio","querySelectorAll","gsap","to","opacity","y","stagger","amount","ease","ScreenResult","image","data","identifier","results","colorClass","preview","URL","createObjectURL","res","JSON","parse","result","maxValueIndex","indexOf","Math","max","probability","round","tl","timeline","useEffect","from","id","src","alt","path","style","width","ScreenResults","location","useLocation","useState","setResults","loading","setLoading","formData","FormData","state","files","map","file","append","fetch","method","body","then","json","concat","Layout","minHeight","length","index","key"],"mappings":"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","file":"3.js","sourcesContent":["import React from 'react';\nimport configuration from '../../utils/constants';\n\nconst Footer = () => {\n\n    return (\n        <footer className=\"app-footer pt-5\">\n            <div className=\"container mb-4\">\n                <div className=\"row\">\n                    <div className=\"col-lg-5 mb-5 mb-lg-0\">\n                        <h2 className=\"mb-1\">{configuration.appTitle}</h2>\n                        <p>POCUS image analysis through AI to screen COVID-19 and pneumonia or healthy people.</p>\n                    </div>\n                    <div className=\"col-lg-6 col-xl-5 offset-xl-2 offset-lg-1\">\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <h3 className=\"mb-4\">Legal</h3>\n                                <ul className=\"app-footer-links\">\n                                    <li><a href=\"/data-privacy\">Data privacy</a></li>\n                                    <li><a href=\"/terms-and-conditions\">Terms and conditions</a></li>\n                                </ul>\n                            </div>\n                            <div className=\"col offset-1\">\n                                <h3 className=\"mb-4\">Handy links</h3>\n                                <ul className=\"app-footer-links\">\n                                    <li><a href=\"https://arxiv.org/abs/2004.12084\" title=\"Read our scientific article\" target=\"_blank\">Scientific article</a></li>\n                                    <li><a href=\"https://github.com/jannisborn/covid19_pocus_ultrasound\" target=\"_blank\" title=\"Find out how we achieved this\">GitHub repository</a></li>\n                                    <li><a href=\"https://devpost.com/software/automatic-detection-of-covid-19-from-pocus-ultrasound-data\" target=\"_blank\" title=\"Read our DevPost\">DevPost</a></li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"copyright py-2\">\n                <div className=\"container\">\n                    <div className=\"row justify-content-between\">\n                        <div className=\"col\">Â© Copyright {(new Date().getFullYear())}</div>\n                        <div className=\"col text-right\">A <a href=\"https://www.codevscovid19.org/\" target=\"_blank\"\n                                                             title=\"Visit the official event page\">#CodeVsCovid19</a>, <a href=\"https://euvsvirus.org/\" target=\"_blank\"\n                                                                                                                          title=\"Visit the official event page\">#EUvsVirus</a>  project\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </footer>\n    );\n};\n\nexport default Footer;\n","import React from 'react';\nimport Footer from '../components/Footer/Footer';\n\nconst Train = ({className, ...props}) => {\n    return (\n        <>\n            <main className=\"app-main\">\n                <div className={className}>\n                    {props.children}\n                </div>\n            </main>\n            <Footer/>\n        </>\n    );\n};\n\nexport default Train;\n","import React from 'react';\n\nconst TextSimple = (props) => {\n\n    return (\n        <>\n            <header>\n                {props.subtitle &&\n                <p className=\"fadeIn mb-0\">{props.subtitle}</p>\n                }\n                <h2 className=\"fadeIn mb-4\">{props.title}</h2>\n            </header>\n            <p className=\"fadeIn\">{props.text}</p>\n        </>\n    );\n};\n\nexport default TextSimple;\n","import React, {useRef} from 'react';\nimport TextSimple from './TextSimple';\nimport {useFadeInOnScroll} from '../../utils/animation';\n\nconst Text = (props) => {\n\n    const sectionRef = useRef(null);\n    useFadeInOnScroll(sectionRef);\n\n    return (\n        <div className=\"text row mb-5\" ref={sectionRef}>\n            <div className=\"col-8 col-lg-8 col-xl-6 offset-lg-1\">\n                <TextSimple title={props.title} subtitle={props.subtitle} text={props.text}/>\n            </div>\n        </div>\n    );\n};\n\nexport default Text;\n","/* eslint-disable */\nimport { useEffect, useState } from 'react';\nvar useIntersection = function (ref, options) {\n    var _a = useState(null), intersectionObserverEntry = _a[0], setIntersectionObserverEntry = _a[1];\n    useEffect(function () {\n        if (ref.current && typeof IntersectionObserver === 'function') {\n            var handler = function (entries) {\n                setIntersectionObserverEntry(entries[0]);\n            };\n            var observer_1 = new IntersectionObserver(handler, options);\n            observer_1.observe(ref.current);\n            return function () {\n                setIntersectionObserverEntry(null);\n                observer_1.disconnect();\n            };\n        }\n        return function () { };\n    }, [ref.current, options.threshold, options.root, options.rootMargin]);\n    return intersectionObserverEntry;\n};\nexport default useIntersection;\n","import {useIntersection} from 'react-use';\nimport gsap from \"gsap\";\n\nexport function useFadeInOnScroll(ref) {\n    const threshold = .45;\n    const onScreen = useIntersection(ref, {\n        root: null,\n        rootMargin: '0px',\n        threshold: threshold\n    });\n\n    const fadeIn = (el) => {\n        gsap.to(el, .67, {opacity: 1, y: -30, stagger: {amount: .6}, ease: 'power4.out'})\n    };\n\n    if (ref.current && onScreen && onScreen.intersectionRatio >= threshold) {\n        fadeIn(ref.current.querySelectorAll('.fadeIn'));\n    }\n}\n","import React, {useEffect} from 'react';\nimport gsap from \"gsap\";\n\nconst ScreenResult = ({image, data, identifier}) => {\n\n    let results = '';\n    let colorClass = '';\n\n    image.preview = URL.createObjectURL(image);\n    const res = JSON.parse(data.result);\n    const maxValueIndex = res.indexOf(Math.max(...res));\n    const probability = Math.round(res[maxValueIndex] * 100);\n\n    switch (maxValueIndex) {\n        case 0:\n            results = 'COVID-19 symptoms';\n            break;\n        case 1:\n            results = 'Pneumonia symptoms';\n            break;\n        case 2:\n            results = 'Healthy';\n            break;\n    }\n\n    if (probability >= 0 && probability < 50) {\n        colorClass = 'red';\n    } else if (probability >= 50 && probability < 80) {\n        colorClass = 'orange';\n    } else {\n        colorClass = 'green';\n    }\n\n    let tl = gsap.timeline();\n    useEffect(() => {\n        let el = '#key-' + identifier;\n        tl.from(el, 1.2, {y: 80, opacity: 0, ease: 'power4.out'})\n    }, [identifier]);\n\n    return (\n        <div id={`key-${identifier}`} className={`result ${colorClass} d-md-flex mb-5`}>\n            <div className=\"result-image\">\n                <img src={image.preview} alt={`Result for ${image.path}`}/>\n            </div>\n            <div className=\"result-information align-self-center px-5 py-4 mt-md-0 w-100\">\n                <div className=\"result-information-part image-title\">\n                    <h3>Title</h3>\n                    <p>{image.path}</p>\n                </div>\n                <div className=\"result-information-part symptoms\">\n                    <h3 className=\"mt-4\">Results</h3>\n                    <p className=\"result-text\">{results}</p>\n                </div>\n                <div className=\"result-information-part probability no-border\">\n                    <h3 className=\"mt-4\">Probability</h3>\n                    <div className=\"progress my-3\">\n                        <div className=\"progress-size\" style={{width: `${probability}%`}}></div>\n                    </div>\n                    <p className=\"result-probability\">{probability}&#37;</p>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ScreenResult;\n","import React, {useEffect, useState} from 'react';\nimport Layout from '../Layout';\nimport Text from '../../components/Content/Text';\nimport {useLocation} from 'react-router-dom';\nimport ScreenResult from './ScreenResult';\nimport gsap from \"gsap\";\n\nconst ScreenResults = () => {\n\n    const location = useLocation();\n    const [results, setResults] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        let formData = new FormData();\n        location.state.files.map((file) => {\n            formData.append('image', file);\n            fetch('/api/screen', {\n                method: 'POST',\n                body: formData\n            })\n            .then(data => data.json())\n            .then(data => {\n                setLoading(false);\n                setResults(results => results.concat({image: file, data: data}));\n            })\n        });\n    }, [location]);\n\n    return (\n        <Layout>\n            <div className=\"container spacer-small\">\n                <Text title=\"Results\"\n                      text=\"We highly recommend to follow approved clinical guidelines for the diagnosis and management of COVID19. By no means you should base your clinical decision solely on the result of this algorithm.\"/>\n                <div className=\"row\">\n                    <div className=\"col-lg-10 offset-lg-1\">\n                        <div className=\"placeholders\" style={{minHeight: location.state.files.length * 400}}>\n                            {loading && (<div>Loading...</div>)}\n                            {results.map((result, index) => (\n                                <ScreenResult key={index} identifier={index} data={result.data} image={result.image}/>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-lg-10 offset-lg-1\">\n                        <a href=\"/screen\" title=\"Run another test\" className=\"button primary round w-100 text-uppercase mt-4 d-block text-center\">Run another test</a>\n                    </div>\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default ScreenResults;\n"],"sourceRoot":""}